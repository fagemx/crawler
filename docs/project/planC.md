需求描述
此專案會有很多判斷過程
爬蟲 要確認 輸入帳號  爬文後判斷最受歡迎的貼文  根據貼文分析成模板  給予創造新貼文使用 
分析貼文 分析提供三個模式  擷取貼文的模式 變成創建貼文的系統提示
創建貼文 用戶會提出需求  用互動方式 提供新的貼文 根據分析貼文的模板
####
### 6 萬 MVP 版 ── Apify 抓取 × Gemini 2.5 Pro 多模態辨識
本版本定位為**一次性 Demo / PoC**，目標是在 4 週內交付「能跑得通、具備圖片與影片摘要能力」的最小可行產品。核心元件說明如下：
1. **登入與環境**
   　提供單一帳號密碼登入（bcrypt 雜湊），所有金鑰與 Token 以 `.env` 管理。無多權限、OAuth、2FA。
2. **Threads 貼文一次性抓取**
      透過 Apify 平台的 threads-scraper Actor 或等價爬蟲方案，指定目標 username 批次擷取其公開貼文（單次上限100則）。每筆資料明確保存五大互動數據（瀏覽數、愛心數、留言數、轉發引用、分享數），以及文字內容、媒體 URL 與作者資訊。
   貼文資料於後續分析與AI模仿時，將以「瀏覽數（View Count／曝光數）」作為主要排序與權重依據，確保分析結果優先聚焦於高曝光、高影響力貼文。
3. **圖像 / 影片內容描述（Gemini 2.5 Pro）**
   　抓到的圖片與影片封面 URL 會呼叫 **Gemini 2.5 Pro** 進行多模態理解，輸出影片繁體摘要。該模型原生支援跨文字、影像、影片理解，並具備長上下文視窗，可一次處理多張圖片。 
     Gemini 2.5 Pro可以對影片進行畫面分析，STT擷取，已經很不錯，支援短片預覽摘要；長片需分段抽幀或音訊外部STT加價。
4. **資料庫與觸發**
   　使用 Postgres（或 SQLite）建表，當貼文累計滿 100 筆自動解鎖「AI 模仿生成功能」。無雲端同步、無指標報表。
5. **AI 模仿貼文**
   　系統會以「瀏覽數（View Count／曝光數）」為主要排序權重，挑選高互動、高曝光貼文作為語料基礎，輔以愛心數、留言數等其他指標進行加權。利用 Gemini 2.5 Pro 文字推理能力，生成貼近原帳號風格的新貼文，並自動建議 Hashtags。
   　AI 提供三種分析模式（快速模仿、風格解析模仿、深度文案模仿），用戶可針對需求，對同一貼文進行多次「重新生成」。本功能暫不支援多語言、模型微調，亦不承諾互動成效保證。
6. **操作日誌與匯出**
   　記錄登入、抓取、生成、修改四類事件，可下載 CSV；無可視化報表。
7. **前端 UI**
   　採用 Streamlit UI提供基本的操作介面（如輸入框、按鈕、結果呈現）。
8. **部署與支援**
   　交付 README（含 `.env` 範例）及本地啟動腳本；提供線上協助完成部署。無雲端 CI/CD、長期維運。

> **報價：新台幣 60,000 元整**

Apify 使用備註 
1. 執行成本：依 Apify 定價，每 1 CU ≈ 0.25 USD（以 Threads Actor 單次 <1 CU 為 估）。 
2. 頻率限制：免費層每月 10 CU；若日後需排程連續抓取，委託方須自行升級付費方 案。 
LLM Token 用量說明
   本系統內建 1 百萬 tokens 的免費額度，供開發、驗收與初期測試使用。依 Threads 貼文長度、媒體數量與互動（如多輪重生、補充修改）次數不同，估算約可支援 700～1,000 次完整貼文分析與 AI 生成互動。
   每則內容越長、圖片/影片越多，或每則貼文互動（重生、追問、改寫）次數越多，單則消耗的 tokens 也會隨之提升，總次數將相應減少。超出 1 百萬 tokens 部分，請用戶自備 API Key 或依實際用量自付雲端費用。系統已內建用量查詢與金鑰管理，方便隨時監控。

#################
