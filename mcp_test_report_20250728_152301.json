{
  "test_summary": {
    "開始時間": "2025-07-28 15:22:53",
    "總執行時間": "7.77秒",
    "測試項目數": 37,
    "成功項目": 10,
    "警告項目": 0,
    "錯誤項目": 0
  },
  "detailed_logs": [
    {
      "timestamp": "2025-07-28 15:22:53",
      "level": "INFO",
      "message": "測試 1: MCP Server 核心健康檢查",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:53",
      "level": "SUCCESS",
      "message": "MCP Server 健康檢查通過",
      "details": {
        "響應時間": "587.57ms",
        "狀態": "ok",
        "時間戳": "2025-07-28T07:22:55.094777"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:53",
      "level": "DETAIL",
      "message": "MCP Server 詳細狀態",
      "details": {
        "status": "ok",
        "timestamp": "2025-07-28T07:22:55.094777"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:53",
      "level": "INFO",
      "message": "測試 2: Agent 註冊與發現機制",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "SUCCESS",
      "message": "Agent 註冊機制正常運作",
      "details": {
        "響應時間": "490.15ms",
        "註冊的 Agents 數量": 2
      }
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "DETAIL",
      "message": "Agent: vision",
      "details": {
        "名稱": "vision",
        "角色": "vision",
        "狀態": "ONLINE",
        "版本": "1.0.0",
        "URL": "http://bf3f01a14ded:8005",
        "最後心跳": "2025-07-28T07:22:23.738555"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "DETAIL",
      "message": "Agent: playwright-crawler",
      "details": {
        "名稱": "playwright-crawler",
        "角色": "playwright-crawler",
        "狀態": "ONLINE",
        "版本": "1.0.0",
        "URL": "http://29fd5ada0711:8006",
        "最後心跳": "2025-07-28T07:22:55.197062"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "SUCCESS",
      "message": "活躍 Agents: 2/2",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "INFO",
      "message": "測試 3.1: Vision Agent 詳細檢查",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "SUCCESS",
      "message": "Vision Agent 健康檢查通過",
      "details": {
        "響應時間": "568.64ms",
        "狀態": "healthy",
        "服務": "Vision Fill Agent"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "DETAIL",
      "message": "gemini_vision 組件",
      "details": {
        "狀態": "healthy",
        "服務": "Gemini 2.0 Flash"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:54",
      "level": "DETAIL",
      "message": "  api_key_configured: True",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "  model: gemini-2.0-flash",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "rustfs 組件",
      "details": {
        "狀態": "healthy",
        "服務": "RustFS"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "  endpoint: http://rustfs:9000",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "  bucket: social-media-content",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "  object_count: 1",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "  config: {'top_n_posts': 5, 'lifecycle_days': 3, 'max_size_mb': 100}",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "database 組件",
      "details": {
        "狀態": "healthy",
        "服務": "unknown"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "  database_version: PostgreSQL 15.13 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "  connection_pool: {'size': 5, 'max_size': 10, 'min_size': 5}",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "DETAIL",
      "message": "Vision 配置",
      "details": {
        "top_n_posts": 5
      }
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "INFO",
      "message": "測試 3.2: Playwright Crawler Agent 詳細檢查",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "SUCCESS",
      "message": "Playwright Crawler Agent 健康檢查通過",
      "details": {
        "響應時間": "536.55ms",
        "狀態": "healthy",
        "服務": "unknown"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:55",
      "level": "INFO",
      "message": "測試 5: 資料庫連接與操作",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:56",
      "level": "SUCCESS",
      "message": "資料庫連接正常",
      "details": {
        "響應時間": "846.55ms",
        "時間戳": 1753687377.335771
      }
    },
    {
      "timestamp": "2025-07-28 15:22:56",
      "level": "DETAIL",
      "message": "Agent 統計",
      "details": {
        "總計": 2,
        "在線": 2,
        "離線": 0,
        "未知": 0
      }
    },
    {
      "timestamp": "2025-07-28 15:22:56",
      "level": "DETAIL",
      "message": "角色 playwright-crawler",
      "details": {
        "total": 1,
        "online": 1
      }
    },
    {
      "timestamp": "2025-07-28 15:22:56",
      "level": "DETAIL",
      "message": "角色 vision",
      "details": {
        "total": 1,
        "online": 1
      }
    },
    {
      "timestamp": "2025-07-28 15:22:56",
      "level": "DETAIL",
      "message": "媒體檔案統計",
      "details": {
        "total": 0,
        "completed": 0,
        "failed": 0,
        "pending": 0
      }
    },
    {
      "timestamp": "2025-07-28 15:22:56",
      "level": "INFO",
      "message": "測試 6: RustFS S3 存儲整合",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:57",
      "level": "SUCCESS",
      "message": "RustFS S3 API 正常運行",
      "details": {
        "響應時間": "1206.43ms",
        "端點": "http://localhost:9000"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:58",
      "level": "DETAIL",
      "message": "存儲桶檢查",
      "details": {
        "social-media-content": "已配置"
      }
    },
    {
      "timestamp": "2025-07-28 15:22:58",
      "level": "INFO",
      "message": "測試 7: 基礎設施服務檢查",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:22:59",
      "level": "SUCCESS",
      "message": "PostgreSQL 資料庫服務正常",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:23:01",
      "level": "SUCCESS",
      "message": "Redis 快取服務正常",
      "details": null
    },
    {
      "timestamp": "2025-07-28 15:23:01",
      "level": "SUCCESS",
      "message": "Docker 內部網路通訊正常",
      "details": null
    }
  ],
  "test_results": {
    "mcp_server": true,
    "agent_registry": {
      "total": 2,
      "online": 2,
      "details": [
        {
          "名稱": "vision",
          "角色": "vision",
          "狀態": "ONLINE",
          "版本": "1.0.0",
          "URL": "http://bf3f01a14ded:8005",
          "最後心跳": "2025-07-28T07:22:23.738555"
        },
        {
          "名稱": "playwright-crawler",
          "角色": "playwright-crawler",
          "狀態": "ONLINE",
          "版本": "1.0.0",
          "URL": "http://29fd5ada0711:8006",
          "最後心跳": "2025-07-28T07:22:55.197062"
        }
      ]
    },
    "agents": {
      "vision": {
        "name": "Vision",
        "port": 8005,
        "healthy": true,
        "response_time": 568.64,
        "capabilities": [],
        "components": {
          "gemini_vision": {
            "status": "healthy",
            "service": "Gemini 2.0 Flash",
            "api_key_configured": true,
            "model": "gemini-2.0-flash"
          },
          "rustfs": {
            "status": "healthy",
            "service": "RustFS",
            "endpoint": "http://rustfs:9000",
            "bucket": "social-media-content",
            "object_count": 1,
            "config": {
              "top_n_posts": 5,
              "lifecycle_days": 3,
              "max_size_mb": 100
            }
          },
          "database": {
            "status": "healthy",
            "database_version": "PostgreSQL 15.13 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit",
            "connection_pool": {
              "size": 5,
              "max_size": 10,
              "min_size": 5
            }
          }
        },
        "config": {
          "top_n_posts": 5
        }
      },
      "playwright_crawler": {
        "name": "Playwright Crawler",
        "port": 8006,
        "healthy": true,
        "response_time": 536.55,
        "capabilities": [],
        "components": {},
        "config": {}
      }
    },
    "database": {
      "connected": true,
      "stats": {
        "agents": {
          "total": 2,
          "online": 2,
          "down": 0,
          "unknown": 0,
          "by_role": {
            "playwright-crawler": {
              "total": 1,
              "online": 1
            },
            "vision": {
              "total": 1,
              "online": 1
            }
          }
        },
        "database": {
          "media_files": {
            "total": 0,
            "completed": 0,
            "failed": 0,
            "pending": 0
          }
        },
        "timestamp": 1753687377.335771
      },
      "performance": {
        "response_time": 846.55
      }
    },
    "storage": {
      "available": true,
      "performance": {
        "response_time": 1206.43
      }
    },
    "infrastructure": {
      "postgresql": true,
      "redis": true,
      "network": true
    }
  }
}